[env]
_.file = ".env"

[tools]
node = "22"
pnpm = "9"
rust = "latest"
"cargo:cargo-watch" = "latest"
"cargo:sqlx-cli" = "latest"

[tasks.install]
description = "Install all project dependencies"
run = "pnpm i"

[tasks.dev]
description = "Start development servers"
run = "pnpm run dev"
depends = ["install"]

[tasks.check]
description = "Run all checks (frontend + backend)"
run = "pnpm run check"

[tasks.test]
description = "Run backend tests"
run = "cargo test --workspace"

[tasks.build]
description = "Build the npm package"
run = "./build-npm-package.sh"
