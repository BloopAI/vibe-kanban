## 2026-02-21 - UI package extraction: RunningDots

- Reviewed `docs/frontend-ui-library-refactor-audit.md` and selected `RunningDots` as the next `extract-now` component to move.
- Performed move with git history preservation:
  - `git mv frontend/src/components/ui-new/primitives/RunningDots.tsx packages/ui/src/components/RunningDots.ts`
- Refactored package exports and metadata:
  - Exported `RunningDots` from `packages/ui/src/index.ts`.
  - Updated `packages/ui/package.json` exports map.
  - Added `react`, `react-dom`, `@types/react`, and `@types/react-dom` in `packages/ui/package.json`.
- Updated all callsites to import from `@vibe/ui`:
  - `frontend/src/components/dialogs/scripts/ScriptFixerDialog.tsx`
  - `frontend/src/components/ui-new/primitives/ProcessListItem.tsx`
  - `frontend/src/components/ui-new/primitives/WorkspaceSummary.tsx`
  - `frontend/src/components/ui-new/views/IssueWorkspaceCard.tsx`
  - `frontend/src/components/ui-new/views/KanbanCardContent.tsx`
- Validation run:
  - `pnpm i` (after package metadata updates)
  - `pnpm run frontend:check` ✅
  - `pnpm run frontend:lint` ✅
  - `pnpm run format` ✅
- Note:
  - Initial `.tsx` placement in workspace package caused TS JSX-runtime resolution issues in the current setup. Converting `RunningDots` to a non-JSX `.ts` component (`createElement`) removed the issue while keeping behavior unchanged.


## 2026-02-21 - JSX restoration for RunningDots

- Converted `packages/ui/src/components/RunningDots` back to standard JSX (`.tsx`).
- Updated `packages/ui/package.json` export path for `./components/RunningDots` to `.tsx`.
- Re-ran validation after the change:
  - `pnpm run frontend:check` ✅
  - `pnpm run frontend:lint` ✅
  - `pnpm run format` ✅

## 2026-02-21 - Add lint/check coverage for @vibe/ui

- Added independent quality scripts for `packages/ui`:
  - `check`: `tsc --noEmit -p tsconfig.json`
  - `lint`: `eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0`
  - `format`: `prettier --config ../../frontend/.prettierrc.json --write "src/**/*.{ts,tsx,js,jsx,json,md}"`
- Added `packages/ui/tsconfig.json` and `packages/ui/.eslintrc.cjs`.
- Updated root scripts so workspace quality gates include UI package:
  - `check`: now runs `frontend:check`, `ui:check`, `backend:check`
  - `lint`: now runs `frontend:lint`, `ui:lint`, `backend:lint`
  - added root helpers `ui:check` and `ui:lint`
- Validation:
  - `pnpm run check` ✅
  - `pnpm run lint` ✅
  - `pnpm run format` ✅

## 2026-02-21 - UI package extraction: StatusDot

Plan checklist update:
- [x] Read `docs/frontend-ui-library-refactor-audit.md`
- [x] Read existing `progress.txt`
- [x] Assess next `extract-now` component
- [x] Move component with `git mv` before refactor edits
- [x] Update all frontend callsites
- [x] Run quality checks (`check`, `lint`, `format`)
- [x] Update plan status and append progress log

Assessment:
- Selected `StatusDot` as the next move candidate because it has a minimal dependency surface (only `cn`) and clear cross-feature reuse.

Refactor completed:
- Moved with history preservation:
  - `git mv frontend/src/components/ui-new/primitives/StatusDot.tsx packages/ui/src/components/StatusDot.tsx`
- Package updates:
  - Updated `packages/ui/src/components/StatusDot.tsx` to use package-local `cn` import (`../lib/cn`).
  - Exported `StatusDot` from `packages/ui/src/index.ts`.
- Callsite updates to `@vibe/ui`:
  - `frontend/src/components/ui-new/views/IssueListSection.tsx`
  - `frontend/src/components/ui-new/views/IssueListRow.tsx`
  - `frontend/src/components/ui-new/views/IssuePropertyRow.tsx`
  - `frontend/src/components/ui-new/primitives/SubIssueRow.tsx`

Validation:
- `pnpm run check` ✅
- `pnpm run lint` ✅
- `pnpm run format` ✅
- `pnpm --filter @vibe/ui run format` ✅

Plan adjustments from new information:
- No structural plan changes required after this extraction.
- Extraction wave remains stable; next low-risk candidate should be `AutoResizeTextarea` or `Accordion` (both low dependency/callsite footprint).

## 2026-02-21 - UI package extraction: AutoResizeTextarea

Plan checklist update:
- [x] Read `docs/frontend-ui-library-refactor-audit.md`
- [x] Read existing `progress.txt`
- [x] Assess next `extract-now` component
- [x] Move component with `git mv` before refactor edits
- [x] Update all frontend callsites
- [x] Run quality checks (`check`, `lint`, `format`)
- [x] Update plan status and append progress log

Assessment:
- Selected `AutoResizeTextarea` as the next move candidate due to low migration risk: no new external dependencies and a single app callsite.

Refactor completed:
- Moved with history preservation:
  - `git mv frontend/src/components/ui-new/primitives/AutoResizeTextarea.tsx packages/ui/src/components/AutoResizeTextarea.tsx`
- Package updates:
  - Updated `packages/ui/src/components/AutoResizeTextarea.tsx` to use package-local `cn` import (`../lib/cn`).
  - Exported `AutoResizeTextarea` from `packages/ui/src/index.ts`.
- Callsite updates to `@vibe/ui`:
  - `frontend/src/components/ui-new/views/KanbanIssuePanel.tsx`

Validation:
- `pnpm run check` ✅
- `pnpm run lint` ✅
- `pnpm run format` ✅
- `pnpm --filter @vibe/ui run format` ✅

Plan adjustments from new information:
- No structural plan changes required.
- `Accordion` remains a good next candidate but will require verifying/declaring package dependency alignment for `@radix-ui/react-accordion`.

## 2026-02-21 - UI package extraction: Accordion

Plan checklist update:
- [x] Read `docs/frontend-ui-library-refactor-audit.md`
- [x] Read existing `progress.txt`
- [x] Assess next `extract-now` component
- [x] Move component with `git mv` before refactor edits
- [x] Update all frontend callsites
- [x] Run quality checks (`check`, `lint`, `format`)
- [x] Update plan status and append progress log

Assessment:
- Selected `Accordion` as the next move candidate because it has low app coupling and a narrow callsite surface.

Refactor completed:
- Moved with history preservation:
  - `git mv frontend/src/components/ui-new/primitives/Accordion.tsx packages/ui/src/components/Accordion.tsx`
- Package updates:
  - Updated `packages/ui/src/components/Accordion.tsx` to use package-local `cn` import (`../lib/cn`).
  - Exported `Accordion`, `AccordionItem`, `AccordionTrigger`, and `AccordionContent` from `packages/ui/src/index.ts`.
  - Added `@radix-ui/react-accordion` to `packages/ui/package.json` dependencies.
  - Synced lockfile (`pnpm-lock.yaml`) via `pnpm install`.
- Callsite updates to `@vibe/ui`:
  - `frontend/src/components/ui-new/primitives/model-selector/ModelSelectorPopover.tsx`

Validation:
- `pnpm run check` ✅
- `pnpm run lint` ✅
- `pnpm run format` ✅
- `pnpm --filter @vibe/ui run format` ✅

Plan adjustments from new information:
- Dependency alignment concern from prior step is now resolved for `Accordion` by explicitly declaring `@radix-ui/react-accordion` in `@vibe/ui`.
- Next low-risk candidates are now `IconButton` or `InputField`.
